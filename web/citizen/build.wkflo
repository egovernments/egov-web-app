def build(path, ci_image) {
    stage("Build") {
        docker.image("egovio/ci-react:v8.4.0-lerna-v2").inside {
            sh "cd ${path}/rainmaker && rm -rf node_modules && npm i && npm i babel-runtime && npm run build-css && babel dev-packages/egov-ui-kit-dev/src --out-dir packages/egov-ui-kit --copy-files && babel dev-packages/egov-ui-framework-core/src/ --out-dir packages/egov-ui-framework --copy-files && babel dev-packages/pgr-citizen-dev/src --out-dir packages/pgr-citizen --copy-files &&  babel dev-packages/pt-citizen-dev/src --out-dir packages/pt-citizen --copy-files && lerna bootstrap && cd packages/citizen && npm run build && cp -r build ../../../citizen/";
        }
    }
}

return this;
