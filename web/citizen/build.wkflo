def build(path, ci_image) {
    stage("Build") {
        docker.image("egovio/ci-react:v8.4.0-lerna-v2").inside {
            sh "cd ${path}/rainmaker && rm -rf node_modules ../build/* && npm set registry http://egov-micro-dev.egovernments.org/verdaccio && npm i babel-cli && npm run build-css-citizen && npm run transpile-common-modules && npm run transpile-employee-modules && npm run transpile-citizen-modules  && lerna bootstrap && cd packages/citizen && npm run build && cp -r build ../../../citizen/";
        }
    }
}

return this;
