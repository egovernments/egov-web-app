def build(path, ci_image) {
    stage("Build") {
       docker.image("egovio/ci-react:v8.4.0-lerna-v2").inside {
            sh "cd ${path}/rainmaker && rm -rf node_modules ../build/* && npm set registry http://egov-micro-dev.egovernments.org/verdaccio && npm i npm-run-all && npm i babel-cli babel-plugin-transform-runtime babel-preset-es2015 babel-preset-react babel-preset-stage-0 && npm run build-css-employee && npm run transpile-common-modules && npm run transpile-employee-modules && npm run transpile-citizen-modules  && lerna bootstrap && cd packages/egov-tradelicence-core && npm run build && cp -r build ../../../employee-tradelicence/";
        }
    }
}

return this;
